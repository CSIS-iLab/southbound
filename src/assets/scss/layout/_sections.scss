section::after,
section::before {
  @extend %ellipse;
}

.subsection {
  margin: auto;
}

.one-column {
  h3,
  h4,
  p,
  ul {
    max-width: $size__one-column__max-width;
    margin-right: auto;
    margin-left: auto;
  }

  .homepage & {
    > div:not(:last-child) {
      margin-bottom: 4.5rem;
    }
  }

  .component-image {
    @include breakpoint('small') {
      float: right;
      margin-left: 2rem;
    }
  }

  aside {
    @include breakpoint('medium') {
      float: right;
      margin-left: 2rem;
    }
  }

  .component-image {
    @each $size in $sizes__default {
      @include breakpoint($size) {
        max-width: return-map-value($sizes__one-column__image, $size);
      }
    }
  }

  aside {
    @each $size in $sizes__desktop {
      @include breakpoint($size) {
        max-width: return-map-value($sizes__one-column__image, $size);
      }
    }
  }

  @include breakpoint('medium', 'max-width') {
    aside {
      order: 99;
      margin: auto;
    }
  }
}

.two-column {
  @each $size in $sizes__desktop {
    @include breakpoint($size) {
      $big: return-map-value($sizes__two-column__paragraph, $size);
      $small: return-map-value($sizes__two-column__image, $size);
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;

      > *:last-child {
        margin-left: $size__gap;
      }

      .homepage & {
        > .description p,
        > .text {
          max-width: calc(#{$big} - #{$size__gap} / 2);
        }

        > figure {
          max-width: calc(#{$small} - #{$size__gap} / 2);
        }
      }

      .data & {
        > figure {
          max-width: calc(#{$big} - #{$size__gap} / 2);
        }

        > .text {
          max-width: calc(#{$small} - #{$size__gap} / 2);
        }
      }
    }
  }
}
